<!DOCTYPE HTML>
<html lang="en">
<head>
  <meta charset="utf-8">
  
  <title>在AIX上增加文件系统空间 | My Blog</title>
  <meta name="author" content="Forrest Wan">
  
  <meta name="description" content="My Blog">
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="在AIX上增加文件系统空间"/>
  <meta property="og:site_name" content="My Blog"/>

  
    <meta property="og:image" content=""/>
  

  <link rel="shortcut icon" href="/favicon.png">
  
  
<link rel="stylesheet" href="/css/style.css">

  <!--[if lt IE 9]><script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script><![endif]-->
  

<meta name="generator" content="Hexo 6.1.0"></head>


<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">My Blog</a></h1>
  <h2><a href="/"></a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/null">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div>
</header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper"><article id="post-在AIX上增加文件系统空间" class="h-entry post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time class="dt-published" datetime="2012-10-19T07:22:43.000Z"><a href="/2012/10/19/%E5%9C%A8AIX%E4%B8%8A%E5%A2%9E%E5%8A%A0%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%A9%BA%E9%97%B4/">2012-10-19</a></time>
      
      
  
    <h1 class="p-name title" itemprop="headline name">在AIX上增加文件系统空间</h1>
  

    </header>
    <div class="e-content entry" itemprop="articleBody">
      
        <h1 id="显示活动的卷组"><a href="#显示活动的卷组" class="headerlink" title="显示活动的卷组"></a>显示活动的卷组</h1><figure class="highlight tap"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">dhdev01 / <span class="comment"># lsvg -o</span></span><br><span class="line">bkvg</span><br><span class="line">vg01</span><br><span class="line">vg02</span><br><span class="line">rootvg</span><br><span class="line">列出对应的物理卷</span><br><span class="line">dhdev01 / <span class="comment"># lsvg -p rootvg</span></span><br><span class="line">rootvg:</span><br><span class="line">PV_NAME           PV STATE          TOTAL PPs   FREE PPs    FREE DISTRIBUTION</span><br><span class="line">hdisk0            active           <span class="number"> 546 </span>       <span class="number"> 111 </span>        00..00..00..02..109</span><br><span class="line">dhdev01 / <span class="comment"># lsvg -p vg01</span></span><br><span class="line">vg01:</span><br><span class="line">PV_NAME           PV STATE          TOTAL PPs   FREE PPs    FREE DISTRIBUTION</span><br><span class="line">hdisk1            active           <span class="number"> 546 </span>       <span class="number"> 135 </span>        00..00..00..26..109</span><br><span class="line">dhdev01 / <span class="comment"># lsvg -p vg02</span></span><br><span class="line">vg02:</span><br><span class="line">PV_NAME           PV STATE          TOTAL PPs   FREE PPs    FREE DISTRIBUTION</span><br><span class="line">hdisk2            active           <span class="number"> 546 </span>       <span class="number"> 109 </span>        00..00..00..00..109</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">dhdev01 / <span class="comment"># ls -al /dev/rootvg</span></span><br><span class="line">crw-rw----  <span class="number"> 1 </span>root     system       10, <span class="number"> 0 </span>Dec<span class="number"> 19 </span>2003  /dev/rootvg</span><br></pre></td></tr></table></figure>

<h1 id="显示卷组的基本信息"><a href="#显示卷组的基本信息" class="headerlink" title="显示卷组的基本信息"></a>显示卷组的基本信息</h1><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">dhdev01</span> / # lsvg rootvg</span><br><span class="line"><span class="attribute">VOLUME</span> GROUP:   rootvg                   VG IDENTIFIER:  <span class="number">00585</span>c0f00004c00000000f98e1e377f</span><br><span class="line"><span class="attribute">VG</span> STATE:       active                   PP SIZE:        <span class="number">128</span> megabyte(s)</span><br><span class="line"><span class="attribute">VG</span> PERMISSION:  read/write               TOTAL PPs:      <span class="number">546</span> (<span class="number">69888</span> megabytes)</span><br><span class="line"><span class="attribute">MAX</span> LVs:        <span class="number">256</span>                      FREE PPs:       <span class="number">111</span> (<span class="number">14208</span> megabytes)</span><br><span class="line"><span class="attribute">LVs</span>:            <span class="number">16</span>                       USED PPs:       <span class="number">435</span> (<span class="number">55680</span> megabytes)</span><br><span class="line"><span class="attribute">OPEN</span> LVs:       <span class="number">13</span>                       QUORUM:         <span class="number">2</span></span><br><span class="line"><span class="attribute">TOTAL</span> PVs:      <span class="number">1</span>                        VG DESCRIPTORS: <span class="number">2</span></span><br><span class="line"><span class="attribute">STALE</span> PVs:      <span class="number">0</span>                        STALE PPs:      <span class="number">0</span></span><br><span class="line"><span class="attribute">ACTIVE</span> PVs:     <span class="number">1</span>                        AUTO <span class="literal">ON</span>:        yes</span><br><span class="line"><span class="attribute">MAX</span> PPs per PV: <span class="number">1016</span>                     MAX PVs:        <span class="number">32</span></span><br><span class="line"><span class="attribute">LTG</span> size:       <span class="number">128</span> kilobyte(s)          AUTO SYNC:      no</span><br><span class="line"><span class="attribute">HOT</span> SPARE:      no                       BB POLICY:      relocatable</span><br></pre></td></tr></table></figure>

<h1 id="显示该卷组存在的所有逻辑卷"><a href="#显示该卷组存在的所有逻辑卷" class="headerlink" title="显示该卷组存在的所有逻辑卷"></a>显示该卷组存在的所有逻辑卷</h1><figure class="highlight tap"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">dhdev01 / <span class="comment"># lsvg -l rootvg</span></span><br><span class="line">rootvg:</span><br><span class="line">LV NAME             TYPE       LPs   PPs   PVs  LV STATE      MOUNT POINT</span><br><span class="line">hd5                 boot      <span class="number"> 1 </span>   <span class="number"> 1 </span>   <span class="number"> 1 </span>   closed/syncd  N/A</span><br><span class="line">hd6                 paging    <span class="number"> 32 </span>  <span class="number"> 32 </span>  <span class="number"> 1 </span>   open/syncd    N/A</span><br><span class="line">hd8                 jfslog    <span class="number"> 1 </span>   <span class="number"> 1 </span>   <span class="number"> 1 </span>   open/syncd    N/A</span><br><span class="line">hd4                 jfs       <span class="number"> 3 </span>   <span class="number"> 3 </span>   <span class="number"> 1 </span>   open/syncd    /</span><br><span class="line">hd2                 jfs       <span class="number"> 88 </span>  <span class="number"> 88 </span>  <span class="number"> 1 </span>   open/syncd    /usr</span><br><span class="line">hd9var              jfs       <span class="number"> 8 </span>   <span class="number"> 8 </span>   <span class="number"> 1 </span>   open/syncd    /var</span><br><span class="line">hd3                 jfs       <span class="number"> 22 </span>  <span class="number"> 22 </span>  <span class="number"> 1 </span>   open/syncd    /tmp</span><br><span class="line">hd1                 jfs       <span class="number"> 8 </span>   <span class="number"> 8 </span>   <span class="number"> 1 </span>   open/syncd    /home</span><br><span class="line">hd10opt             jfs       <span class="number"> 3 </span>   <span class="number"> 3 </span>   <span class="number"> 1 </span>   open/syncd    /opt</span><br><span class="line">lg_dumplv           sysdump   <span class="number"> 8 </span>   <span class="number"> 8 </span>   <span class="number"> 1 </span>   open/syncd    N/A</span><br><span class="line">lv00                jfs       <span class="number"> 148 </span> <span class="number"> 148 </span> <span class="number"> 1 </span>   open/syncd    /u01</span><br><span class="line">lv01                jfs       <span class="number"> 24 </span>  <span class="number"> 24 </span>  <span class="number"> 1 </span>   open/syncd    /u02</span><br><span class="line">lv02                jfs       <span class="number"> 24 </span>  <span class="number"> 24 </span>  <span class="number"> 1 </span>   open/syncd    /oradisk</span><br><span class="line">dh                  jfs       <span class="number"> 32 </span>  <span class="number"> 32 </span>  <span class="number"> 1 </span>   open/syncd    /dh</span><br><span class="line">loglv03             jfs2log   <span class="number"> 1 </span>   <span class="number"> 1 </span>   <span class="number"> 1 </span>   closed/syncd  N/A</span><br><span class="line">fslv00              jfs2      <span class="number"> 32 </span>  <span class="number"> 32 </span>  <span class="number"> 1 </span>   closed/syncd  /cd0</span><br></pre></td></tr></table></figure>

<h1 id="显示所有物理卷的基本信息"><a href="#显示所有物理卷的基本信息" class="headerlink" title="显示所有物理卷的基本信息"></a>显示所有物理卷的基本信息</h1><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">dhdev01</span> / # lspv</span><br><span class="line"><span class="attribute">hdisk0</span>          <span class="number">00585</span>c0f8e1e2d11                    rootvg          active</span><br><span class="line"><span class="attribute">hdisk1</span>          <span class="number">00585</span>c0f746525a4                    vg01            active</span><br><span class="line"><span class="attribute">hdisk2</span>          <span class="number">00585</span>c0f545aca55                    vg02            active</span><br><span class="line"><span class="attribute">hdisk3</span>          <span class="number">00585</span>c0f418e185b                    bkvg            active</span><br></pre></td></tr></table></figure>

<h1 id="显示某个物理卷的基本信息"><a href="#显示某个物理卷的基本信息" class="headerlink" title="显示某个物理卷的基本信息"></a>显示某个物理卷的基本信息</h1><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">dhdev01</span> / # lspv hdisk0</span><br><span class="line"><span class="attribute">PHYSICAL</span> VOLUME:    hdisk0                   VOLUME GROUP:     rootvg</span><br><span class="line"><span class="attribute">PV</span> IDENTIFIER:      <span class="number">00585</span>c0f8e1e2d11 VG IDENTIFIER     <span class="number">00585</span>c0f00004c00000000f98e1e377f</span><br><span class="line"><span class="attribute">PV</span> STATE:           active</span><br><span class="line"><span class="attribute">STALE</span> PARTITIONS:   <span class="number">0</span>                        ALLOCATABLE:      yes</span><br><span class="line"><span class="attribute">PP</span> SIZE:            <span class="number">128</span> megabyte(s)          LOGICAL VOLUMES:  <span class="number">16</span></span><br><span class="line"><span class="attribute">TOTAL</span> PPs:          <span class="number">546</span> (<span class="number">69888</span> megabytes)    VG DESCRIPTORS:   <span class="number">2</span></span><br><span class="line"><span class="attribute">FREE</span> PPs:           <span class="number">111</span> (<span class="number">14208</span> megabytes)    HOT SPARE:        no</span><br><span class="line"><span class="attribute">USED</span> PPs:           <span class="number">435</span> (<span class="number">55680</span> megabytes)</span><br><span class="line"><span class="attribute">FREE</span> DISTRIBUTION:  <span class="number">00</span>..<span class="number">00</span>..<span class="number">00</span>..<span class="number">02</span>..<span class="number">109</span></span><br><span class="line"><span class="attribute">USED</span> DISTRIBUTION:  <span class="number">110</span>..<span class="number">109</span>..<span class="number">109</span>..<span class="number">107</span>..<span class="number">00</span></span><br></pre></td></tr></table></figure>

<h1 id="显示该物理卷上存在的所有逻辑卷"><a href="#显示该物理卷上存在的所有逻辑卷" class="headerlink" title="显示该物理卷上存在的所有逻辑卷"></a>显示该物理卷上存在的所有逻辑卷</h1><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">dhdev01</span> / # lspv -l hdisk0</span><br><span class="line"><span class="attribute">hdisk0</span>:</span><br><span class="line"><span class="attribute">LV</span> NAME               LPs   PPs   DISTRIBUTION          MOUNT POINT</span><br><span class="line"><span class="attribute">hd5</span>                   <span class="number">1</span>     <span class="number">1</span>     <span class="number">01</span>..<span class="number">00</span>..<span class="number">00</span>..<span class="number">00</span>..<span class="number">00</span>    N/A</span><br><span class="line"><span class="attribute">lv00</span>                  <span class="number">148</span>   <span class="number">148</span>   <span class="number">53</span>..<span class="number">43</span>..<span class="number">17</span>..<span class="number">35</span>..<span class="number">00</span>    /u01</span><br><span class="line"><span class="attribute">dh</span>                    <span class="number">32</span>    <span class="number">32</span>    <span class="number">32</span>..<span class="number">00</span>..<span class="number">00</span>..<span class="number">00</span>..<span class="number">00</span>    /dh</span><br><span class="line"><span class="attribute">lv02</span>                  <span class="number">24</span>    <span class="number">24</span>    <span class="number">24</span>..<span class="number">00</span>..<span class="number">00</span>..<span class="number">00</span>..<span class="number">00</span>    /oradisk</span><br><span class="line"><span class="attribute">hd6</span>                   <span class="number">32</span>    <span class="number">32</span>    <span class="number">00</span>..<span class="number">32</span>..<span class="number">00</span>..<span class="number">00</span>..<span class="number">00</span>    N/A</span><br><span class="line"><span class="attribute">lg_dumplv</span>             <span class="number">8</span>     <span class="number">8</span>     <span class="number">00</span>..<span class="number">08</span>..<span class="number">00</span>..<span class="number">00</span>..<span class="number">00</span>    N/A</span><br><span class="line"><span class="attribute">lv01</span>                  <span class="number">24</span>    <span class="number">24</span>    <span class="number">00</span>..<span class="number">16</span>..<span class="number">08</span>..<span class="number">00</span>..<span class="number">00</span>    /u02</span><br><span class="line"><span class="attribute">hd2</span>                   <span class="number">88</span>    <span class="number">88</span>    <span class="number">00</span>..<span class="number">10</span>..<span class="number">65</span>..<span class="number">13</span>..<span class="number">00</span>    /usr</span><br><span class="line"><span class="attribute">hd8</span>                   <span class="number">1</span>     <span class="number">1</span>     <span class="number">00</span>..<span class="number">00</span>..<span class="number">01</span>..<span class="number">00</span>..<span class="number">00</span>    N/A</span><br><span class="line"><span class="attribute">hd4</span>                   <span class="number">3</span>     <span class="number">3</span>     <span class="number">00</span>..<span class="number">00</span>..<span class="number">01</span>..<span class="number">02</span>..<span class="number">00</span>    /</span><br><span class="line"><span class="attribute">hd9var</span>                <span class="number">8</span>     <span class="number">8</span>     <span class="number">00</span>..<span class="number">00</span>..<span class="number">04</span>..<span class="number">04</span>..<span class="number">00</span>    /var</span><br><span class="line"><span class="attribute">hd3</span>                   <span class="number">22</span>    <span class="number">22</span>    <span class="number">00</span>..<span class="number">00</span>..<span class="number">06</span>..<span class="number">16</span>..<span class="number">00</span>    /tmp</span><br><span class="line"><span class="attribute">hd1</span>                   <span class="number">8</span>     <span class="number">8</span>     <span class="number">00</span>..<span class="number">00</span>..<span class="number">06</span>..<span class="number">02</span>..<span class="number">00</span>    /home</span><br><span class="line"><span class="attribute">hd10opt</span>               <span class="number">3</span>     <span class="number">3</span>     <span class="number">00</span>..<span class="number">00</span>..<span class="number">01</span>..<span class="number">02</span>..<span class="number">00</span>    /opt</span><br><span class="line"><span class="attribute">loglv03</span>               <span class="number">1</span>     <span class="number">1</span>     <span class="number">00</span>..<span class="number">00</span>..<span class="number">00</span>..<span class="number">01</span>..<span class="number">00</span>    N/A</span><br><span class="line"><span class="attribute">fslv00</span>                <span class="number">32</span>    <span class="number">32</span>    <span class="number">00</span>..<span class="number">00</span>..<span class="number">00</span>..<span class="number">32</span>..<span class="number">00</span>    /cd0</span><br></pre></td></tr></table></figure>

<p> 如果卷组内只有一个物理卷，那么卷组内的逻辑卷信息和物理卷内的逻辑卷信息是一致的。</p>
<h1 id="显示物理卷中的每个物理分区-outer-edge-outer-middle-center-inner-middle-inner-edge"><a href="#显示物理卷中的每个物理分区-outer-edge-outer-middle-center-inner-middle-inner-edge" class="headerlink" title="显示物理卷中的每个物理分区(outer edge, outer middle, center, inner middle, inner edge)"></a>显示物理卷中的每个物理分区(outer edge, outer middle, center, inner middle, inner edge)</h1><figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">dhdev01 / # lspv -p hdisk1</span><br><span class="line">hdisk1:</span><br><span class="line">PP RANGE  STATE   REGION        LV NAME             TYPE       MOUNT POINT</span><br><span class="line">  <span class="number">1</span>-<span class="number">32</span>    used    outer edge    db                  jfs        /dh/db</span><br><span class="line"> <span class="number">33</span>-<span class="number">36</span>    used    outer edge    rdhdev_test2        raw        N/<span class="keyword">A</span></span><br><span class="line"> <span class="number">37</span>-<span class="number">74</span>    used    outer edge    testdb              jfs        /test</span><br><span class="line"> <span class="number">75</span>-<span class="number">110</span>   used    outer edge    rdhdev_test         raw        N/<span class="keyword">A</span></span><br><span class="line"><span class="number">111-190</span>   used    outer middle  db                  jfs        /dh/db</span><br><span class="line"><span class="number">191-191</span>   used    outer middle  loglv00             jfslog     N/<span class="keyword">A</span></span><br><span class="line"><span class="number">192-219</span>   used    outer middle  patch               jfs        /opt/patch</span><br><span class="line"><span class="number">220-223</span>   used    center        patch               jfs        /opt/patch</span><br><span class="line"><span class="number">224-261</span>   used    center        testdb2             jfs        /test2</span><br><span class="line"><span class="number">262-281</span>   used    center        db                  jfs        /dh/db</span><br><span class="line"><span class="number">282-287</span>   used    center        patch               jfs        /opt/patch</span><br><span class="line"><span class="number">288-328</span>   used    center        db                  jfs        /dh/db</span><br><span class="line"><span class="number">329-409</span>   used    inner middle  db                  jfs        /dh/db</span><br><span class="line"><span class="number">410-410</span>   used    inner middle  lv03                raw        N/<span class="keyword">A</span></span><br><span class="line"><span class="number">411-411</span>   used    inner middle  rawtest             raw        N/<span class="keyword">A</span></span><br><span class="line"><span class="number">412-437</span>   free    inner middle</span><br><span class="line"><span class="number">438-546</span>   free    inner edge</span><br></pre></td></tr></table></figure>

<h1 id="显示某个逻辑卷的信息"><a href="#显示某个逻辑卷的信息" class="headerlink" title="显示某个逻辑卷的信息"></a>显示某个逻辑卷的信息</h1><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">dhdev01 / # lslv hd1</span><br><span class="line">LOGICAL VOLUME:     hd1                    VOLUME <span class="keyword">GROUP</span>:   rootvg</span><br><span class="line">LV IDENTIFIER:      <span class="number">00585</span>c0f00004c00000000f98e1e377f.<span class="number">8</span> PERMISSION:     <span class="keyword">read</span>/<span class="keyword">write</span></span><br><span class="line">VG STATE:           active<span class="regexp">/complete        LV STATE:       opened/</span>syncd</span><br><span class="line">TYPE:               jfs                    <span class="keyword">WRITE</span> VERIFY:   off</span><br><span class="line">MAX LPs:            <span class="number">512</span>                    PP <span class="keyword">SIZE</span>:        <span class="number">128</span> megabyte(s)</span><br><span class="line">COPIES:             <span class="number">1</span>                      SCHED POLICY:   parallel</span><br><span class="line">LPs:                <span class="number">8</span>                      PPs:            <span class="number">8</span></span><br><span class="line">STALE PPs:          <span class="number">0</span>                      BB POLICY:      relocatable</span><br><span class="line">INTER-POLICY:       minimum                RELOCATABLE:    yes</span><br><span class="line">INTRA-POLICY:       center                 UPPER BOUND:    <span class="number">32</span></span><br><span class="line">MOUNT POINT:        <span class="regexp">/home                  LABEL:          /</span>home</span><br><span class="line">MIRROR <span class="keyword">WRITE</span> CONSISTENCY: on/ACTIVE</span><br><span class="line"><span class="keyword">EACH</span> LP <span class="keyword">COPY</span> ON A SEPARATE PV ?: yes</span><br><span class="line">Serialize IO ?:     NO</span><br><span class="line">dhdev01 / # df -g</span><br><span class="line">Filesystem    GB blocks      Free %Used    Iused %Iused Mounted on</span><br><span class="line"><span class="regexp">/dev/</span>hd4           <span class="number">0.38</span>      <span class="number">0.23</span>   <span class="number">40</span>%     <span class="number">3349</span>     <span class="number">2</span>% /</span><br><span class="line"><span class="regexp">/dev/</span>hd2          <span class="number">11.00</span>      <span class="number">2.45</span>   <span class="number">78</span>%   <span class="number">108362</span>     <span class="number">4</span>% /usr</span><br><span class="line"><span class="regexp">/dev/</span>hd9var        <span class="number">1.00</span>      <span class="number">0.48</span>   <span class="number">52</span>%      <span class="number">816</span>     <span class="number">1</span>% /var</span><br><span class="line"><span class="regexp">/dev/</span>hd3           <span class="number">2.75</span>      <span class="number">1.87</span>   <span class="number">33</span>%    <span class="number">10855</span>     <span class="number">2</span>% /tmp</span><br><span class="line"><span class="regexp">/dev/</span>hd1           <span class="number">1.00</span>      <span class="number">0.46</span>   <span class="number">55</span>%     <span class="number">4222</span>     <span class="number">2</span>% /home</span><br><span class="line"><span class="regexp">/proc                 -         -    -         -     -  /</span>proc</span><br><span class="line"><span class="regexp">/dev/</span>hd10opt       <span class="number">0.38</span>      <span class="number">0.17</span>   <span class="number">56</span>%     <span class="number">3987</span>     <span class="number">5</span>% /opt</span><br><span class="line"><span class="regexp">/dev/</span>lv00         <span class="number">18.50</span>      <span class="number">2.15</span>   <span class="number">89</span>%    <span class="number">97608</span>     <span class="number">3</span>% /u01</span><br><span class="line"><span class="regexp">/dev/</span>lv01          <span class="number">3.00</span>      <span class="number">0.70</span>   <span class="number">77</span>%       <span class="number">36</span>     <span class="number">1</span>% /u02</span><br><span class="line"><span class="regexp">/dev/</span>lv02          <span class="number">3.00</span>      <span class="number">2.91</span>    <span class="number">4</span>%       <span class="number">17</span>     <span class="number">1</span>% /oradisk</span><br><span class="line"><span class="regexp">/dev/</span>dh            <span class="number">4.00</span>      <span class="number">2.56</span>   <span class="number">36</span>%    <span class="number">69153</span>     <span class="number">7</span>% /dh</span><br><span class="line"><span class="regexp">/dev/</span>db           <span class="number">31.75</span>     <span class="number">18.40</span>   <span class="number">43</span>%       <span class="number">57</span>     <span class="number">1</span>% <span class="regexp">/dh/</span>db</span><br><span class="line"><span class="regexp">/dev/</span>patch         <span class="number">4.75</span>      <span class="number">0.26</span>   <span class="number">95</span>%     <span class="number">7607</span>     <span class="number">1</span>% <span class="regexp">/opt/</span>patch</span><br><span class="line"><span class="regexp">/dev/</span>piers         <span class="number">4.38</span>      <span class="number">0.92</span>   <span class="number">80</span>%    <span class="number">27870</span>     <span class="number">3</span>% /piers</span><br><span class="line"><span class="regexp">/dev/</span>piersdb      <span class="number">12.50</span>      <span class="number">1.44</span>   <span class="number">89</span>%       <span class="number">55</span>     <span class="number">1</span>% <span class="regexp">/piers/</span>db</span><br><span class="line"><span class="regexp">/dev/u</span>atbkup      <span class="number">19.75</span>     <span class="number">19.03</span>    <span class="number">4</span>%       <span class="number">30</span>     <span class="number">1</span>% <span class="regexp">/piers/</span>db/uatbkup</span><br><span class="line"><span class="regexp">/dev/</span>dailybkup      <span class="number">9.88</span>      <span class="number">7.33</span>   <span class="number">26</span>%     <span class="number">2450</span>     <span class="number">1</span>% <span class="regexp">/piers/</span>dailybkup</span><br><span class="line"><span class="regexp">/dev/</span>dbbkuplv     <span class="number">40.00</span>     <span class="number">13.42</span>   <span class="number">67</span>%    <span class="number">91429</span>     <span class="number">3</span>% /dbbkup</span><br></pre></td></tr></table></figure>

<p> PP SIZE * PPs(128 megabyte(s) * 8) &#x3D;&#x3D; 1024M<br> 表示逻辑卷hd1(Filesystem: &#x2F;dev&#x2F;hd1, Mounted on: &#x2F;home)有1.00 GB blocks</p>
<h1 id="查看逻辑卷在物理卷上的分布"><a href="#查看逻辑卷在物理卷上的分布" class="headerlink" title="查看逻辑卷在物理卷上的分布"></a>查看逻辑卷在物理卷上的分布</h1><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">dhdev01</span> / # lslv -l hd1</span><br><span class="line"><span class="attribute">hd1</span>:/home</span><br><span class="line"><span class="attribute">PV</span>                COPIES        IN BAND       DISTRIBUTION</span><br><span class="line"><span class="attribute">hdisk0</span>            <span class="number">008</span>:<span class="number">000</span>:<span class="number">000</span>   <span class="number">75</span>%           <span class="number">000</span>:<span class="number">000</span>:<span class="number">006</span>:<span class="number">002</span>:<span class="number">000</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="attribute">dhdev01</span> / # lslv -m hd1</span><br><span class="line"><span class="attribute">hd1</span>:/home</span><br><span class="line"><span class="attribute">LP</span>    PP1  PV1               PP2  PV2               PP3  PV3</span><br><span class="line"><span class="attribute">0001</span>  <span class="number">0225</span> hdisk0</span><br><span class="line"><span class="attribute">0002</span>  <span class="number">0241</span> hdisk0</span><br><span class="line"><span class="attribute">0003</span>  <span class="number">0242</span> hdisk0</span><br><span class="line"><span class="attribute">0004</span>  <span class="number">0309</span> hdisk0</span><br><span class="line"><span class="attribute">0005</span>  <span class="number">0310</span> hdisk0</span><br><span class="line"><span class="attribute">0006</span>  <span class="number">0311</span> hdisk0</span><br><span class="line"><span class="attribute">0007</span>  <span class="number">0336</span> hdisk0</span><br><span class="line"><span class="attribute">0008</span>  <span class="number">0413</span> hdisk0</span><br><span class="line"><span class="attribute">dhdev01</span> / # lspv -p hdisk0|grep /home</span><br><span class="line"><span class="attribute">225</span>-<span class="number">225</span>   used    center        hd1                 jfs        /home</span><br><span class="line"><span class="attribute">241</span>-<span class="number">242</span>   used    center        hd1                 jfs        /home</span><br><span class="line"><span class="attribute">309</span>-<span class="number">311</span>   used    center        hd1                 jfs        /home</span><br><span class="line"><span class="attribute">336</span>-<span class="number">336</span>   used    inner middle  hd1                 jfs        /home</span><br><span class="line"><span class="attribute">413</span>-<span class="number">413</span>   used    inner middle  hd1                 jfs        /home</span><br></pre></td></tr></table></figure>

<p> 说明：<br> DISTRIBUTION(000:000:006:002:000) 表示center有6个物理分区(对应第1-6的逻辑分区)，inner middle有2个物理分区(对应7-8的逻辑分区)<br> COPIES(008:000:000) 表示第一个物理卷上有8个物理分区，没有第二和第三的拷贝分区<br> IN BAND(75%) 表示center[6] &#x2F; center[6] + inner middle[2] &#x3D; 0.75</p>
<h1 id="增加某个文件系统的空间"><a href="#增加某个文件系统的空间" class="headerlink" title="增加某个文件系统的空间"></a>增加某个文件系统的空间</h1><ol>
<li>df -g | grep &#x2F;home 查看&#x2F;home所属的逻辑卷，假设是hd1</li>
<li>lslv -l hd1 查看hd1所属的物理卷，假设是hdisk0</li>
<li>lspv -p hdisk0 查看物理卷的可用空间</li>
<li>smitty chfs 或者 chfs -a size&#x3D;+10G &#x2F;home</li>
<li>如果执行上述命令时出现问题:Maximum allocation for logical volume hd1，运行命令<br>chlv -x 800 hd1 或 smitty chlv 或 smitty lv<br>Please refer to <a target="_blank" rel="noopener" href="http://geekswing.com/geek/how-to-expand-a-filesystem-in-aix-df-lsvg-chfs/">how-to-expand-a-filesystem-in-aix-df-lsvg-chfs</a> or <a target="_blank" rel="noopener" href="http://www.unixmantra.com/2014/01/practical-guide-to-aix-logical-volume-management.html">practical-guide-to-aix-logical-volume-management</a></li>
<li>extendlv与chfs是很接近的，但增加文件空间需要用chfs，不要用extendlv，因为extendlv会扩大逻辑分区，但不能反映的文件空间上的。</li>
</ol>
<h1 id="参考"><a href="#参考" class="headerlink" title="参考:"></a>参考:</h1><p><a target="_blank" rel="noopener" href="http://www.web-manual.net/aix/0516-787-extendlv-maximum-allocation-for-logical-volume-hd11admin-is-512/">http://www.web-manual.net/aix/0516-787-extendlv-maximum-allocation-for-logical-volume-hd11admin-is-512/</a><br><a target="_blank" rel="noopener" href="http://wenku.baidu.com/view/f02cac4533687e21af45a960.html">http://wenku.baidu.com/view/f02cac4533687e21af45a960.html</a><br><a target="_blank" rel="noopener" href="http://unix.ittoolbox.com/groups/technical-functional/ibm-aix-l/in-band-in-lslv-l-1110087">http://unix.ittoolbox.com/groups/technical-functional/ibm-aix-l/in-band-in-lslv-l-1110087</a><br><a target="_blank" rel="noopener" href="http://unix.ittoolbox.com/groups/technical-functional/ibm-aix-l/increasing-the-filesystem-size-2639934">http://unix.ittoolbox.com/groups/technical-functional/ibm-aix-l/increasing-the-filesystem-size-2639934</a><br><a target="_blank" rel="noopener" href="http://www.tek-tips.com/viewthread.cfm?qid=1150552">http://www.tek-tips.com/viewthread.cfm?qid=1150552</a><br><a target="_blank" rel="noopener" href="http://www.unix.com/aix/25249-increase-logical-partition.html">http://www.unix.com/aix/25249-increase-logical-partition.html</a></p>
<h2 id="In-band解释"><a href="#In-band解释" class="headerlink" title="In-band解释"></a>In-band解释</h2><p><a target="_blank" rel="noopener" href="http://unix.ittoolbox.com/groups/technical-functional/ibm-aix-l/in-band-in-lslv-l-1110087">http://unix.ittoolbox.com/groups/technical-functional/ibm-aix-l/in-band-in-lslv-l-1110087</a><br><a target="_blank" rel="noopener" href="http://pic.dhe.ibm.com/infocenter/powersys/v3r1m5/index.jsp?topic=/iphcg/lslv.htm">http://pic.dhe.ibm.com/infocenter/powersys/v3r1m5/index.jsp?topic=/iphcg/lslv.htm</a><br><a target="_blank" rel="noopener" href="http://www.ibm.com/developerworks/forums/thread.jspa?messageID=14532561">http://www.ibm.com/developerworks/forums/thread.jspa?messageID=14532561</a></p>
<h2 id="extendlv与chfs的区别"><a href="#extendlv与chfs的区别" class="headerlink" title="extendlv与chfs的区别"></a>extendlv与chfs的区别</h2><p><a target="_blank" rel="noopener" href="http://networktechnologist.com/tips-aix-lvm.html">http://networktechnologist.com/tips-aix-lvm.html</a><br><a target="_blank" rel="noopener" href="http://publib.boulder.ibm.com/infocenter/pseries/v5r3/index.jsp?topic=/com.ibm.aix.cmds/doc/aixcmds2/extendlv.htm">http://publib.boulder.ibm.com/infocenter/pseries/v5r3/index.jsp?topic=/com.ibm.aix.cmds/doc/aixcmds2/extendlv.htm</a></p>

      
    </div>
    <footer>
      
        
        
  
  <div class="tags">
    <a href="/tags/AIX/">AIX</a>
  </div>

        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>


</div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="Search">
    <input type="hidden" name="as_sitesearch" value="l1z2g9.github.io">
  </form>
</div>


  

  
<div class="widget tag">
  <h3 class="title">Tags</h3>
  <ul class="entry">
  
    <li><a href="/tags/AIX/">AIX</a><small>29</small></li>
  
    <li><a href="/tags/MySQL/">MySQL</a><small>2</small></li>
  
    <li><a href="/tags/Oracle/">Oracle</a><small>14</small></li>
  
    <li><a href="/tags/Problem-Solve/">Problem Solve</a><small>9</small></li>
  
    <li><a href="/tags/Raspberry-Pi/">Raspberry Pi</a><small>12</small></li>
  
    <li><a href="/tags/%E5%B7%A5%E4%BD%9C%E6%97%A5%E5%BF%97/">工作日志</a><small>69</small></li>
  
    <li><a href="/tags/%E6%97%A5%E5%B8%B8%E8%AE%B0%E5%BD%95/">日常记录</a><small>23</small></li>
  
  </ul>
</div>

</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2022 Forrest Wan
  
</div>
<div class="clearfix"></div></footer>
  
<script src="/js/jquery-3.4.1.min.js"></script>


<script src="/js/jquery.imagesloaded.min.js"></script>


<script src="/js/gallery.js"></script>





</body>
</html>
